<form class="my-auto" action="{{ url_for('main.pay') }}" method="GET" style="width: 71px;">
  <input type="hidden" name="username" value="{{ user.username }}" />
  <select name="item_name" class="custom-select" onchange="this.form.submit()" {% if user.balance <= 0 or not user.deposit %}disabled{% endif %}>
    <option selected disabled>Pay</option>
    {% if favorite_inventory|length > 1 %}
    <optgroup label="Favorites">
    {% for item in favorite_inventory %}
    <option value="{{ item.name }}" {% if (not user.deposit) or (user.can_buy(item) != True) or (item.is_quantifiable and item.quantity <= 0) %} disabled{% endif %}>
      {% if (not user.deposit) or (user.can_buy(item) != True) or (item.is_quantifiable and item.quantity <= 0) %}
      <strike>
      {% endif %}
      {{ item.name }} ({{ item.price }}€)
      {% if (not user.deposit) or (user.can_buy(item) != True) or (item.is_quantifiable and item.quantity <= 0) %}
      </strike>
      {% endif %}
    </option>
    {% endfor %}
    {% endif %}
    <optgroup label="Products">
    {% for item in inventory %}
    {% if item not in favorite_inventory %}
    <option value="{{ item.name }}" {% if (not user.deposit) or (user.can_buy(item) != True) or (item.is_quantifiable and item.quantity <= 0) %} disabled{% endif %}>
      {% if (not user.deposit) or (user.can_buy(item) != True) or (item.is_quantifiable and item.quantity <= 0) %}
      <strike>
      {% endif %}
      {{ item.name }} ({{ item.price }}€)
      {% if (not user.deposit) or (user.can_buy(item) != True) or (item.is_quantifiable and item.quantity <= 0) %}
      </strike>
      {% endif %}
    </option>
    {% endif %}
    {% endfor %}
  </select>
</form>
